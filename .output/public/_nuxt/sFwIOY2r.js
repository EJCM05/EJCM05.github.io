import{_ as N}from"./yMvgV67q.js";import{_ as S,r as p,c as f,o as b,a as o,l as M,p as w,v as _,q as j,t as B,s as q,b as L,w as C,F as J}from"#entry";class h{constructor(s=0,t="Network Error"){this.status=s,this.text=t}}const O=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,s)=>Promise.resolve(localStorage.setItem(e,s)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},n={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:O()},k=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},$=(e,s="https://api.emailjs.com")=>{if(!e)return;const t=k(e);n.publicKey=t.publicKey,n.blockHeadless=t.blockHeadless,n.storageProvider=t.storageProvider,n.blockList=t.blockList,n.limitRate=t.limitRate,n.origin=t.origin||s},R=async(e,s,t={})=>{const r=await fetch(n.origin+e,{method:"POST",headers:t,body:s}),i=await r.text(),l=new h(r.status,i);if(r.ok)return l;throw l},E=(e,s,t)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!s||typeof s!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},D=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},V=e=>e.webdriver||!e.languages||e.languages.length===0,x=()=>new h(451,"Unavailable For Headless Browser"),A=(e,s)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof s!="string")throw"The BlockList watchVariable has to be a string"},U=e=>!e.list?.length||!e.watchVariable,G=(e,s)=>e instanceof FormData?e.get(s):e[s],H=(e,s)=>{if(U(e))return!1;A(e.list,e.watchVariable);const t=G(s,e.watchVariable);return typeof t!="string"?!1:e.list.includes(t)},I=()=>new h(403,"Forbidden"),W=(e,s)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(s&&typeof s!="string")throw"The LimitRate ID has to be a non-empty string"},z=async(e,s,t)=>{const r=Number(await t.get(e)||0);return s-Date.now()+r},K=async(e,s,t)=>{if(!s.throttle||!t)return!1;W(s.throttle,s.id);const r=s.id||e;return await z(r,s.throttle,t)>0?!0:(await t.set(r,Date.now().toString()),!1)},F=()=>new h(429,"Too Many Requests"),Q=async(e,s,t,r)=>{const i=k(r),l=i.publicKey||n.publicKey,m=i.blockHeadless||n.blockHeadless,c=i.storageProvider||n.storageProvider,g={...n.blockList,...i.blockList},v={...n.limitRate,...i.limitRate};return m&&V(navigator)?Promise.reject(x()):(E(l,e,s),D(t),t&&H(g,t)?Promise.reject(I()):await K(location.pathname,v,c)?Promise.reject(F()):R("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:l,service_id:e,template_id:s,template_params:t}),{"Content-type":"application/json"}))},X=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},Y=e=>typeof e=="string"?document.querySelector(e):e,Z=async(e,s,t,r)=>{const i=k(r),l=i.publicKey||n.publicKey,m=i.blockHeadless||n.blockHeadless,c=n.storageProvider||i.storageProvider,g={...n.blockList,...i.blockList},v={...n.limitRate,...i.limitRate};if(m&&V(navigator))return Promise.reject(x());const y=Y(t);E(l,e,s),X(y);const u=new FormData(y);return H(g,u)?Promise.reject(I()):await K(location.pathname,v,c)?Promise.reject(F()):(u.append("lib_version","4.4.1"),u.append("service_id",e),u.append("template_id",s),u.append("user_id",l),R("/api/v1.0/email/send-form",u))},ee={init:$,send:Q,sendForm:Z,EmailJSResponseStatus:h},te={class:"contact-page"},se={key:0,class:"success-message"},ae={key:1,class:"contact-form"},oe={key:0,class:"loading-message"},re={key:1},ie={class:"input-line"},ne={class:"input-line"},le={class:"input-line"},ce=["disabled"],ue={key:2,class:"error-message"},me={__name:"EmailSend",setup(e){const s=q(),t=p({name:"",email:"",message:""}),r=p(!1),i=p(!1),l=p(null),m=p(null),c=p(null),g=p(null),v=()=>{c.value.focus()},y=()=>{g.value.focus()},u=async()=>{if(!t.value.name||!t.value.email||!t.value.message){l.value="All fields are required.";return}r.value=!0,l.value=null;const P=s.public.emailJsServiceId,a=s.public.emailJsTemplateId,d=s.public.emailJsPublicKey;try{await ee.send(P,a,t.value,d),i.value=!0,t.value={name:"",email:"",message:""}}catch(T){l.value=T.text||"Something went wrong. Please try again.",console.error("EmailJS Error:",T)}finally{r.value=!1}};return(P,a)=>(b(),f("div",te,[a[9]||(a[9]=o("p",{class:"cli-command"},"$ mail -s",-1)),a[10]||(a[10]=o("p",null,"Si quieres contactarme, por favor llena el siguiente formulario.",-1)),i.value?(b(),f("div",se,[...a[3]||(a[3]=[o("p",null,"Email enviado correctamente!",-1),o("p",null,"Gracias por tu mensaje. Me pondré en contacto contigo pronto.",-1)])])):(b(),f("div",ae,[r.value?(b(),f("div",oe,[...a[4]||(a[4]=[o("span",{class:"loading-prompt"},"enviando email...",-1),o("span",{class:"cursor"},"_",-1)])])):(b(),f("div",re,[o("div",ie,[a[5]||(a[5]=o("label",{for:"name"},"Tu Nombre:",-1)),w(o("input",{type:"text",id:"name","onUpdate:modelValue":a[0]||(a[0]=d=>t.value.name=d),onKeyup:j(v,["enter"]),ref_key:"nameInput",ref:m},null,544),[[_,t.value.name]])]),o("div",ne,[a[6]||(a[6]=o("label",{for:"email"},"Tu Correo Electrónico:",-1)),w(o("input",{type:"email",id:"email","onUpdate:modelValue":a[1]||(a[1]=d=>t.value.email=d),onKeyup:j(y,["enter"]),ref_key:"emailInput",ref:c},null,544),[[_,t.value.email]])]),o("div",le,[a[7]||(a[7]=o("label",{for:"message"},"Tu Mensaje:",-1)),w(o("textarea",{id:"message","onUpdate:modelValue":a[2]||(a[2]=d=>t.value.message=d),ref_key:"messageInput",ref:g,rows:"5"},null,512),[[_,t.value.message]])]),o("button",{onClick:u,class:"send-button cli-button",disabled:r.value},"ENVIAR",8,ce)])),l.value?(b(),f("div",ue,[a[8]||(a[8]=o("p",null,"Error: No se pudo enviar el email.",-1)),o("p",null,B(l.value),1)])):M("",!0)]))]))}},de=S(me,[["__scopeId","data-v-e307784b"]]),pe={};function fe(e,s,t,r,i,l){const m=N,c=de;return b(),f(J,null,[L(m,{to:"/",class:"cli-button"},{default:C(()=>[...s[0]||(s[0]=[o("i",{class:"bi bi-arrow-left-short"},null,-1)])]),_:1}),L(c)],64)}const ve=S(pe,[["render",fe]]);export{ve as default};
